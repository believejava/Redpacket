<div class="container-fluid">
    <div class="row search-term">
        <div  class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <label for="productId">产品名称</label>
            <input type="text" id="productId">
        </div>
        <div  class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <label for="cityId">可销售城市</label>
                <input type="text" id="cityId">
        </div>
        <div  class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <label for="descId">描述</label>
            <input type="text" id="descId">
        </div>
        <div  class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <button class="btn btn-large btn-detail" type="button">查询</button>
            <button class="btn btn-large btn-detail" type="button" data-toggle="modal" data-target="#addProductBatch">添加产品批次</button>
        </div>
    </div>
    <div class="row">
        <div  class="col-xs-2 col-sm-2 col-md-2 col-lg-2"></div>
        <div  class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
            <table class="table table-striped table-hover">
                <thead>
                    <th>名称</th>
                    <th>可销售城市</th>
                    <th>数量（盒）</th>
                    <th>描述</th>
                    <th>操作</th>
                </thead>
                <tbody>
                    <tr ng-repeat="batch in batchInfo track by $index">
                        <td width="25%">{{batch.name}}</td>
                        <td  width="20%">{{batch.allowSellCities | allowedCityFilter}}</td>
                        <td  width="15%">{{batch.amount}}</td>
                        <td  width="20%">{{batch.description}}</td>
                        <td  width="20%">
                            <button class="btn btn-large btn-detail" data-toggle="modal" ng-click="openDetailModal(batch.productDetails)">详情</button>
                            <!-- <button class="btn btn-large btn-danger" type="button">删除</button> -->
                                <!-- add product batch Modal -->
                            <div class="modal fade" id="{{batch.productDetails[0].productId}}_product_detail" tabindex="-1" role="dialog" aria-labelledby="productDetailModalLabel" aria-hidden="true">
                                <div class="modal-dialog product-detail-modal">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                            <h4 class="modal-title" id="productDetailModalLabel">{{batch.name}}产品详情</h4>
                                        </div>
                                        <div class="modal-body product-detail-modal">
                                            <div class="modal-row">
                                                <table class="table table-striped table-hover">
                                                    <thead>
                                                    <th>产品编号</th>
                                                    <th>用户可否领取红包</th>
                                                    <th>用户已扫码</th>
                                                    </thead>
                                                    <tbody>
                                                    <!-- <input type="checkbox" name="checkbox" ng-model="productDetail.enable" /> -->
                                                    <tr ng-repeat="productDetail in batch.productDetails | orderBy:'productDetailId'">
                                                        <td>{{productDetail.productDetailNum}}</td>
                                                        <td>{{productDetail.enable | isSelectedFilter}}</td>
                                                        <td>{{productDetail.scanned | isSelectedFilter}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            </div>
                                        </div>
                                    </div><!-- /.modal-content -->
                                </div><!-- /.modal-dialog -->
                            </div>

                        </td>
                    </tr>


                </tbody>
            </table>
        </div>
        <div  class="col-xs-2 col-sm-2 col-md-2 col-lg-2"></div>
    </div>
</div>


    <!-- add product batch Modal -->
<div class="modal fade" id="addProductBatch" tabindex="-1" role="dialog" aria-labelledby="addProductBatchModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="addProductBatchModalLabel">添加产品批次</h4>
            </div>
            <div class="modal-body">
                <div class="modal-row">
                    <label for="productId">产品名称</label>
                    <input type="text" id="productId">
                </div>
                <div class="modal-row">
                    <label for="cityId">可销售城市</label>
                    <input type="text" id="cityId">
                </div>
                <div class="modal-row">
                    <label for="countId">数量</label>
                    <input type="text" id="countId">
                </div>
                <div class="modal-row">
                    <label for="descId">描述</label>
                    <input type="text" id="descId">
                </div>
                <div class="modal-row">
                    <label><input class="custom-checkbox" type="checkbox" value="">是否随机红包</label>
                </div>
                <div class="modal-row">
                    <label for="amountId">平均红包金额（元）</label>
                    <input type="text" id="amountId">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-detail">保存</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

